<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>How to organise NPM scripts in package.json? - YCM Jason</title><meta name="gridsome:hash" content="5c0aa5fa9d59fdb05f0d828ce1b83169314e242d"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.17"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Jason loves solving problems. And he plays music."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.fc1e89df36d8722b28a19d261954e6a2.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.fc1e89df36d8722b28a19d261954e6a2.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.fc1e89df36d8722b28a19d261954e6a2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.fc1e89df36d8722b28a19d261954e6a2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.fc1e89df36d8722b28a19d261954e6a2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.fc1e89df36d8722b28a19d261954e6a2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.fc1e89df36d8722b28a19d261954e6a2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.fc1e89df36d8722b28a19d261954e6a2.png"><link rel="preload" href="/assets/css/0.styles.11dff2c8.css" as="style"><link rel="preload" href="/assets/js/app.2bbd7427.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--dev-to-post-vue.9857b945.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.8220f943.js"><link rel="prefetch" href="/assets/js/page--src--pages--articles-vue.55a41f62.js"><link rel="prefetch" href="/assets/js/page--src--pages--cv-vue.0c482c4b.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.36790a5b.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--articles-vue.2b284b11.js"><link rel="stylesheet" href="/assets/css/0.styles.11dff2c8.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout"><a href="https://github.com/ycmjason/ycmjason.com" aria-label="View source on GitHub" class="github-corner" data-v-03ac3be2><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" data-v-03ac3be2><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" data-v-03ac3be2></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;" data-v-03ac3be2></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body" data-v-03ac3be2></path></svg></a><header class="header"><strong class="site-name">YCM Jason</strong><nav class="nav"><a href="/" class="nav__link active">Home</a><a href="/articles/" class="nav__link">Articles</a><a href="/cv/" class="nav__link">CV</a><a href="https://github.com/ycmjason" target="_blank" rel="noopener" class="nav__link">Github</a></nav></header><div class="markdown-body"><h1>How to organise NPM scripts in package.json?</h1><div><p>I love using npm script as my build tool. By doing so, we could make sure the scripts are not sooooo complicated and easy to read (comparing to gulp/grunt in my opinion).</p>
<p>But as the project grows larger, there are more and more scripts that are added to <code>package.json</code> and things become less and less maintainable.</p>
<p>You probably tried adding empty lines in between scripts, but figure <code>npm install</code> will just remove your empty lines and leave you with only disappointment.</p>
<p>Here is a little trick which allow us to, kind of, group our scripts into categories.</p>
<!--beforebegin--><div class="language-javascript extra-class"><!--afterbegin--><pre v-pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"test"</span><span class="token operator">:</span> <span class="token string">"nyc mocha --recursive"</span><span class="token punctuation">,</span>
    <span class="token string">"preversion"</span><span class="token operator">:</span> <span class="token string">"git checkout master &amp;&amp; git merge --squash dev &amp;&amp; npm test"</span><span class="token punctuation">,</span>
    <span class="token string">"version"</span><span class="token operator">:</span> <span class="token string">"git add -A"</span><span class="token punctuation">,</span>
    <span class="token string">"postversion"</span><span class="token operator">:</span> <span class="token string">"git push &amp;&amp; git push --tags &amp;&amp; git checkout -"</span><span class="token punctuation">,</span>
    <span class="token string">"\n# TESTING SCRIPTS:"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string">"createTestPages"</span><span class="token operator">:</span> <span class="token string">"node ./scripts/createTestPages.js"</span><span class="token punctuation">,</span>
    <span class="token string">"test:watch"</span><span class="token operator">:</span> <span class="token string">"mocha --recursive --watch"</span><span class="token punctuation">,</span>
    <span class="token string">"coverage"</span><span class="token operator">:</span> <span class="token string">"nyc report --reporter=lcov > coverage.lcov &amp;&amp; codecov"</span><span class="token punctuation">,</span>
    <span class="token string">"lint:js"</span><span class="token operator">:</span> <span class="token string">"eslint ."</span><span class="token punctuation">,</span>
    <span class="token string">"\n# HUSKY GIT HOOKS:"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string">"precommit"</span><span class="token operator">:</span> <span class="token string">"lint-staged"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<!--beforeend--></div><!--afterend--><p>The trick here is to define some category keys. By adding <code>\n</code> to the front of the key, we would get a pretty darn neat <code>npm run</code> result.</p>
<!--beforebegin--><div class="language- extra-class"><!--afterbegin--><pre v-pre class="language-text"><code>&gt; npm run
Lifecycle scripts included in grab-lyrics:
  test
    nyc mocha --recursive
  preversion
    git checkout master &amp;&amp; git merge --squash dev &amp;&amp; npm test
  version
    git add -A
  postversion
    git push &amp;&amp; git push --tags &amp;&amp; git checkout -

available via `npm run-script`:
  
# TESTING SCRIPTS:
    
  createTestPages
    node ./scripts/createTestPages.js
  test:watch
    mocha --recursive --watch
  coverage
    nyc report --reporter=lcov &gt; coverage.lcov &amp;&amp; codecov
  lint:js
    eslint .
  
# HUSKY GIT HOOKS:
    
  precommit
    lint-staged
</code></pre>
<!--beforeend--></div><!--afterend--><p>One thing to keep in mind is to always put NPM lifecycle hooks at the top of the script because NPM will just grab them and put them at the top.</p>
<p>What do you think about this trick?</p>
</div></div><footer>Copyright Â© 2020 Jason Yu</footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"How to organise NPM scripts in package.json?","content":"\u003Cp\u003EI love using npm script as my build tool. By doing so, we could make sure the scripts are not sooooo complicated and easy to read (comparing to gulp\u002Fgrunt in my opinion).\u003C\u002Fp\u003E\n\u003Cp\u003EBut as the project grows larger, there are more and more scripts that are added to \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E and things become less and less maintainable.\u003C\u002Fp\u003E\n\u003Cp\u003EYou probably tried adding empty lines in between scripts, but figure \u003Ccode\u003Enpm install\u003C\u002Fcode\u003E will just remove your empty lines and leave you with only disappointment.\u003C\u002Fp\u003E\n\u003Cp\u003EHere is a little trick which allow us to, kind of, group our scripts into categories.\u003C\u002Fp\u003E\n\u003C!--beforebegin--\u003E\u003Cdiv class=\"language-javascript extra-class\"\u003E\u003C!--afterbegin--\u003E\u003Cpre v-pre class=\"language-javascript\"\u003E\u003Ccode\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token string\"\u003E\"scripts\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"test\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"nyc mocha --recursive\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"preversion\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"git checkout master &amp;&amp; git merge --squash dev &amp;&amp; npm test\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"version\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"git add -A\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"postversion\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"git push &amp;&amp; git push --tags &amp;&amp; git checkout -\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"\\n# TESTING SCRIPTS:\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"createTestPages\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"node .\u002Fscripts\u002FcreateTestPages.js\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"test:watch\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"mocha --recursive --watch\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"coverage\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"nyc report --reporter=lcov \u003E coverage.lcov &amp;&amp; codecov\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"lint:js\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"eslint .\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"\\n# HUSKY GIT HOOKS:\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string\"\u003E\"precommit\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"lint-staged\"\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C!--beforeend--\u003E\u003C\u002Fdiv\u003E\u003C!--afterend--\u003E\u003Cp\u003EThe trick here is to define some category keys. By adding \u003Ccode\u003E\\n\u003C\u002Fcode\u003E to the front of the key, we would get a pretty darn neat \u003Ccode\u003Enpm run\u003C\u002Fcode\u003E result.\u003C\u002Fp\u003E\n\u003C!--beforebegin--\u003E\u003Cdiv class=\"language- extra-class\"\u003E\u003C!--afterbegin--\u003E\u003Cpre v-pre class=\"language-text\"\u003E\u003Ccode\u003E&gt; npm run\nLifecycle scripts included in grab-lyrics:\n  test\n    nyc mocha --recursive\n  preversion\n    git checkout master &amp;&amp; git merge --squash dev &amp;&amp; npm test\n  version\n    git add -A\n  postversion\n    git push &amp;&amp; git push --tags &amp;&amp; git checkout -\n\navailable via `npm run-script`:\n  \n# TESTING SCRIPTS:\n    \n  createTestPages\n    node .\u002Fscripts\u002FcreateTestPages.js\n  test:watch\n    mocha --recursive --watch\n  coverage\n    nyc report --reporter=lcov &gt; coverage.lcov &amp;&amp; codecov\n  lint:js\n    eslint .\n  \n# HUSKY GIT HOOKS:\n    \n  precommit\n    lint-staged\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C!--beforeend--\u003E\u003C\u002Fdiv\u003E\u003C!--afterend--\u003E\u003Cp\u003EOne thing to keep in mind is to always put NPM lifecycle hooks at the top of the script because NPM will just grab them and put them at the top.\u003C\u002Fp\u003E\n\u003Cp\u003EWhat do you think about this trick?\u003C\u002Fp\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.2bbd7427.js" defer></script><script src="/assets/js/page--src--templates--dev-to-post-vue.9857b945.js" defer></script>
  </body>
</html>
